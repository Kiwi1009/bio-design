# 🚀 Biodesign 多專家辯論系統 - 使用指南

## 🎯 系統概述

恭喜！您的Biodesign多專家辯論系統已經成功運行！這是一個基於LangGraph架構的智能醫療器械創新概念評估系統，實現了「多專家辯論→評分→收斂」的完整流程。

## ✅ 系統狀態

- **依賴套件**：已安裝完成
- **API密鑰**：已配置完成
- **系統架構**：測試通過
- **專家代理**：7個AI專家全部正常運作

## 🚀 快速開始

### 1. 運行簡化版本（推薦）
```bash
python run_simple_demo.py
```

### 2. 運行完整版本（需要調試）
```bash
python run_demo.py
```

### 3. 運行測試
```bash
python test_basic.py          # 基本功能測試
python test_step_by_step.py   # 逐步功能測試
```

## 🤖 系統功能

### 專家代理角色
1. **🩺 臨床專家 (Clinical)**：分析臨床價值與醫療需求
2. **⚙️ 工程專家 (Engineering)**：評估技術可行性與系統整合
3. **👥 人因專家 (Human Factors)**：關注使用者體驗與錯誤容忍度
4. **📋 法規專家 (Regulatory)**：評估合規路徑與風險管理
5. **💰 市場財務 (Market Finance)**：分析商業可行性與財務模型
6. **🔒 智財專家 (IP)**：評估專利潛力與FTO風險
7. **👨‍⚕️ 病患給付 (Patient Payer)**：考慮病患接受度與給付策略

### 辯論流程
1. **Position Round**：各專家提出創新概念
2. **Critique Round**：專家間相互批評與風險識別
3. **Revise+Vote Round**：概念修訂與多維度評分
4. **Delphi Round**（可選）：針對分歧面向進行收斂

### 評分系統
- **CLINICAL_VALUE** (22%): 臨床價值
- **TECH_FEAS** (18%): 技術可行性
- **UX** (12%): 使用者體驗
- **REG_PATH** (15%): 法規路徑
- **MARKET** (12%): 市場潛力
- **FINANCE** (8%): 財務可行性
- **IP_FTO** (8%): 智財與FTO
- **PAYER** (5%): 給付策略

## 🔧 自定義使用

### 修改需求
編輯 `run_simple_demo.py` 中的 `NeedItem`：

```python
need = NeedItem(
    need="您的醫療需求描述",
    summary="需求摘要",
    medical_insights="醫學見解",
    tech_insights="技術見解",
    strategy="策略"
)
```

### 調整專家角色
修改 `expert_roles` 列表來選擇參與的專家：

```python
expert_roles = ["clinical", "engineering", "human_factors"]  # 只使用3個專家
```

### 更改模型
修改 `.env` 文件中的模型名稱：

```bash
MODEL_NAME=gpt-4.1-mini  # 或其他模型
```

## 📊 輸出結果

系統會輸出：
- **概念列表**：每個專家提出的創新概念
- **批評分析**：專家間的相互批評與風險識別
- **專業見解**：涵蓋多個專業領域的評估

## 🎯 適用場景

- **醫療器械創新概念評估**
- **多專家意見整合與決策**
- **風險評估與優先級排序**
- **產品開發路徑規劃**
- **法規合規策略制定**

## 🔒 注意事項

1. **API密鑰安全**：請妥善保管您的OpenAI API密鑰
2. **使用限制**：注意API的使用頻率限制
3. **數據隱私**：不要在需求描述中包含敏感個人信息
4. **結果驗證**：AI生成的建議需要專業人員審核

## 🚀 進階功能

### 啟用完整LangGraph工作流
目前簡化版本運行正常，完整版本需要進一步調試LangGraph的狀態管理。

### 添加新專家角色
在 `src/prompts.py` 中添加新的專家提示詞，並在 `AGENT_ROLES` 中註冊。

### 自定義評分權重
修改 `src/types.py` 中的 `CRITERIA_WEIGHTS` 來調整評分標準。

## 📞 技術支援

### 常見問題
1. **API密鑰錯誤**：檢查 `.env` 文件是否正確配置
2. **模組導入錯誤**：確保所有依賴套件已安裝
3. **LangGraph錯誤**：檢查版本兼容性

### 調試建議
1. 先運行 `test_basic.py` 確認基本功能
2. 使用 `run_simple_demo.py` 進行功能測試
3. 逐步調試完整版本的問題

## 🎉 恭喜！

您已經成功部署並運行了Biodesign多專家辯論系統！這個系統為醫療器械創新提供了強大的AI驅動決策支援能力。

現在您可以：
1. 輸入您的醫療需求
2. 獲得7個AI專家的專業評估
3. 進行系統化的概念辯論
4. 做出更明智的創新決策

祝您使用愉快！🚀 