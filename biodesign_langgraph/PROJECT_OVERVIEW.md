# 🏥 Biodesign 多專家辯論系統 - 專案總覽

## 🎯 專案簡介

這是一個基於 **LangGraph** 架構的智能醫療器械創新概念評估系統，實現了「多專家辯論→評分→收斂」的完整流程。系統通過7個專業AI代理的協作，為醫材開發團隊提供系統化的決策支援。

## 🚀 核心特色

### ✨ 智能專家代理
- **7個專業角色**：涵蓋臨床、工程、人因、法規、市場、智財、病患等全方位視角
- **專業提示詞**：每個專家都有針對性的專業知識和評估標準
- **協作辯論**：專家間相互批評、討論，形成全面評估

### 🔄 系統化辯論流程
1. **Position Round**：各專家提出創新概念
2. **Critique Round**：專家間相互批評與風險識別
3. **Revise+Vote Round**：概念修訂與多維度評分
4. **Delphi Round**（可選）：針對分歧面向進行收斂

### 📊 科學化評分系統
- **8個評估面向**：臨床價值、技術可行性、使用者體驗、法規路徑、市場潛力、財務可行性、智財潛力、給付策略
- **加權評分**：基於Biodesign-Invent標準的權重分配
- **敏感度分析**：Top-1與Top-2差異分析，評估排序穩定性

## 🏗️ 技術架構

### 技術棧
- **框架**：LangGraph 0.2.30+（最新版本）
- **LLM**：OpenAI GPT-4.1-mini（可替換為其他模型）
- **語言**：Python 3.10+
- **狀態管理**：In-memory State（LangGraph StateGraph）

### 系統設計
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Need Input   │───▶│  LangGraph      │───▶│  Output         │
│                │    │  Workflow       │    │  Analysis       │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                              │
                              ▼
                       ┌─────────────────┐
                       │  7 Expert      │
                       │  Agents        │
                       │  (LLM-based)   │
                       └─────────────────┘
```

## 📁 專案結構

```
biodesign_langgraph/
├── 📋 requirements.txt          # Python 依賴套件
├── 🔧 env.example              # 環境變量範例
├── 🚀 setup.py                 # 一鍵安裝腳本
├── 🧪 test_basic.py            # 基本功能測試
├── 🎯 run_demo.py              # 執行範例程式
├── 📚 README.md                # 快速開始指南
├── 📋 DEVELOPMENT_PLAN.md      # 詳細開發計畫
├── 📖 PROJECT_OVERVIEW.md      # 專案總覽（本文件）
└── 📁 src/                     # 源碼目錄
    ├── __init__.py             # 包初始化
    ├── types.py                # 型別定義與資料模型
    ├── prompts.py              # 專家提示詞模板
    ├── agents.py               # 代理與LLM包裝
    ├── scoring.py              # 評分彙總邏輯
    └── graph.py                # LangGraph 工作流
```

## 🔧 快速開始

### 1. 環境準備
```bash
# 確保 Python 3.10+
python --version

# 克隆專案
git clone <repository-url>
cd biodesign_langgraph
```

### 2. 一鍵安裝
```bash
# 運行安裝腳本
python setup.py
```

### 3. 配置API
```bash
# 編輯 .env 文件
OPENAI_API_KEY=your_openai_api_key_here
MODEL_NAME=gpt-4.1-mini
```

### 4. 開始使用
```bash
# 運行範例
python run_demo.py

# 或運行測試
python test_basic.py
```

## 📊 評分系統詳解

### 評估面向與權重
| 面向 | 權重 | 說明 |
|------|------|------|
| **CLINICAL_VALUE** | 22% | 臨床價值與醫療需求滿足度 |
| **TECH_FEAS** | 18% | 技術可行性與實現難度 |
| **UX** | 12% | 使用者體驗與人因設計 |
| **REG_PATH** | 15% | 法規路徑與合規風險 |
| **MARKET** | 12% | 市場潛力與競爭分析 |
| **FINANCE** | 8% | 財務可行性與投資回報 |
| **IP_FTO** | 8% | 智財潛力與FTO風險 |
| **PAYER** | 5% | 給付策略與成本效益 |

### 評分機制
- **評分範圍**：0-5分（整數或小數）
- **評分方式**：每個專家對每個概念進行評分
- **彙總方法**：相同面向取平均後加權
- **敏感度分析**：Top-1與Top-2差異分析

## 🎯 適用場景

### 主要應用
- **醫療器械創新概念評估**
- **多專家意見整合與決策**
- **風險評估與優先級排序**
- **產品開發路徑規劃**
- **法規合規策略制定**

### 目標用戶
- 醫材研發團隊
- 醫療創新創業者
- 醫院創新部門
- 醫材投資機構
- 法規諮詢顧問

## 🔄 工作流程

### 完整流程圖
```
START
  │
  ▼
┌─────────────┐
│  Position   │───▶ 7專家提出概念
│   Round     │
└─────────────┘
  │
  ▼
┌─────────────┐
│  Critique   │───▶ 專家間相互批評
│   Round     │
└─────────────┘
  │
  ▼
┌─────────────┐
│ Revise+Vote │───▶ 概念修訂+評分
│   Round     │
└─────────────┘
  │
  ▼
┌─────────────┐
│  Delphi     │───▶ 分歧收斂（可選）
│  Round      │
└─────────────┘
  │
  ▼
┌─────────────┐
│ Aggregate   │───▶ 評分彙總+決策
└─────────────┘
  │
  ▼
  END
```

## 📈 輸出結果

### 結構化分析
- **概念排名**：基於加權總分的排序
- **敏感度分析**：Top-1與Top-2的差異分析
- **決策摘要**：下一步原型與驗證計畫
- **風險清單**：各概念的關鍵風險與緩解建議
- **完整辯論記錄**：所有專家的討論過程

### 決策支援
- **Top-N概念推薦**：最優概念選擇
- **風險評估**：關鍵風險識別與緩解
- **下一步建議**：原型開發與驗證計畫
- **資源配置**：優先級與時程規劃

## 🔒 系統特點

### 可稽核性
- **完整記錄**：保留每一輪辯論訊息
- **引用憑證**：評分依據與版控
- **設計歷程**：支援醫材專案的可追溯要求
- **風險管理**：系統化的風險識別與評估

### 靈活性
- **可插拔介面**：支援不同LLM模型
- **可配置權重**：評分權重可調整
- **可選功能**：Delphi收斂可開關
- **擴展性**：便於後續功能擴充

## 🚀 未來發展

### 短期目標（1-2個月）
- [ ] 錯誤處理與容錯機制完善
- [ ] 輸入驗證與清理優化
- [ ] 輸出格式與報告生成
- [ ] 單元測試覆蓋率提升

### 中期目標（3-6個月）
- [ ] 報告匯出功能（Word/PDF）
- [ ] 評分矩陣匯出（Excel/CSV）
- [ ] 歷史記錄管理
- [ ] 配置管理介面

### 長期目標（6-12個月）
- [ ] API服務化
- [ ] Web界面開發
- [ ] 多語言支援
- [ ] 雲端部署與擴展

## 📞 支援與貢獻

### 技術支援
- **GitHub Issues**：問題回報與功能建議
- **文檔支援**：專案Wiki與使用指南
- **社群討論**：開發者交流與經驗分享

### 貢獻方式
- **代碼貢獻**：Pull Request 歡迎
- **文檔改進**：文檔更新與翻譯
- **測試協助**：測試案例與品質保證
- **功能建議**：新功能需求與設計

## 🎉 總結

Biodesign 多專家辯論系統是一個創新的AI驅動決策支援工具，通過模擬真實的專家辯論過程，為醫療器械創新提供科學化、系統化的評估方法。系統結合了最新的LangGraph技術與成熟的Biodesign方法論，為醫材開發團隊創造了前所未有的決策支援能力。

無論您是醫材研發人員、創新創業者，還是投資決策者，這個系統都能幫助您做出更明智、更全面的決策，推動醫療器械創新的發展。

---

*讓我們一起探索AI驅動的醫療器械創新未來！* 🚀 